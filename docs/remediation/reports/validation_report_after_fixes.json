🔍 Found 157 protocol files to validate
   📄 Validating protocol_adaptive_chunker.py...
   📄 Validating protocol_ast_builder.py...
   📄 Validating protocol_contract_analyzer.py...
   📄 Validating protocol_coverage_provider.py...
   📄 Validating protocol_direct_knowledge_pipeline.py...
   📄 Validating protocol_enum_generator.py...
   📄 Validating protocol_fixture_loader.py...
   📄 Validating protocol_log_format_handler.py...
   📄 Validating protocol_multi_vector_indexer.py...
   📄 Validating protocol_orchestrator.py...
   📄 Validating protocol_output_field_tool.py...
   📄 Validating protocol_output_formatter.py...
   📄 Validating protocol_stamper.py...
   📄 Validating protocol_stamper_engine.py...
   📄 Validating protocol_analytics_provider.py...
   📄 Validating protocol_cli.py...
   📄 Validating protocol_cli_dir_fixture_case.py...
   📄 Validating protocol_cli_dir_fixture_registry.py...
   📄 Validating protocol_cli_tool_discovery.py...
   📄 Validating protocol_cli_workflow.py...
   📄 Validating protocol_node_cli_adapter.py...
   📄 Validating protocol_artifact_container.py...
   📄 Validating protocol_cache_service.py...
   📄 Validating protocol_client_config.py...
   📄 Validating protocol_configuration_manager.py...
   📄 Validating protocol_connection_manageable.py...
   📄 Validating protocol_container_service.py...
   📄 Validating protocol_reference_resolver.py...
   📄 Validating protocol_registry.py...
   📄 Validating protocol_registry_resolver.py...
   📄 Validating protocol_schema_exclusion_registry.py...
   📄 Validating protocol_service_registry.py...
   📄 Validating protocol_testable_registry.py...
   📄 Validating protocol_canonical_serializer.py...
   📄 Validating protocol_error_handler.py...
   📄 Validating protocol_error_sanitizer.py...
   📄 Validating protocol_health_details.py...
   📄 Validating protocol_health_monitor.py...
   📄 Validating protocol_logger.py...
   📄 Validating protocol_observability.py...
   📄 Validating protocol_performance_metrics.py...
   📄 Validating protocol_retryable.py...
   📄 Validating protocol_service_discovery.py...
   📄 Validating protocol_time_based.py...
   📄 Validating protocol_uri_parser.py...
   📄 Validating protocol_version_manager.py...
   📄 Validating protocol_discovery_client.py...
   📄 Validating protocol_handler.py...
   📄 Validating protocol_handler_discovery.py...
   📄 Validating protocol_event_bus.py...
   📄 Validating protocol_event_bus_context_manager.py...
   📄 Validating protocol_event_bus_in_memory.py...
   📄 Validating protocol_event_bus_mixin.py...
   📄 Validating protocol_event_bus_service.py...
   📄 Validating protocol_event_bus_types.py...
   📄 Validating protocol_event_envelope_impl.py...
   📄 Validating protocol_event_orchestrator.py...
   📄 Validating protocol_kafka_adapter.py...
   📄 Validating protocol_redpanda_adapter.py...
   📄 Validating protocol_directory_traverser.py...
   📄 Validating protocol_file_discovery_source.py...
   📄 Validating protocol_file_io.py...
   📄 Validating protocol_file_processing.py...
   📄 Validating protocol_file_reader.py...
   📄 Validating protocol_file_type_handler.py...
   📄 Validating protocol_file_type_handler_registry.py...
   📄 Validating protocol_file_writer.py...
   📄 Validating protocol_llm_provider.py...
   📄 Validating protocol_llm_tool_provider.py...
   📄 Validating protocol_ollama_client.py...
   📄 Validating protocol_base_tool_with_logger.py...
   📄 Validating protocol_hub_execution.py...
   📄 Validating protocol_llm_agent_provider.py...
   📄 Validating protocol_mcp_discovery.py...
   📄 Validating protocol_mcp_monitor.py...
   📄 Validating protocol_mcp_registry.py...
   📄 Validating protocol_mcp_subsystem_client.py...
   📄 Validating protocol_mcp_tool_proxy.py...
   📄 Validating protocol_mcp_validator.py...
   📄 Validating protocol_tool.py...
   📄 Validating protocol_tool_bootstrap.py...
   📄 Validating protocol_tool_discovery_service.py...
   📄 Validating protocol_tool_health_check.py...
   📄 Validating protocol_tool_name_resolver.py...
   📄 Validating protocol_agent_config_interfaces.py...
   📄 Validating protocol_agent_configuration.py...
   📄 Validating protocol_agent_manager.py...
   📄 Validating protocol_agent_pool.py...
   📄 Validating protocol_distributed_agent_orchestrator.py...
   📄 Validating protocol_memory_base.py...
   📄 Validating protocol_memory_composable.py...
   📄 Validating protocol_memory_error_handling.py...
   📄 Validating protocol_memory_errors.py...
   📄 Validating protocol_memory_operations.py...
   📄 Validating protocol_memory_requests.py...
   📄 Validating protocol_memory_responses.py...
   📄 Validating protocol_memory_security.py...
   📄 Validating protocol_memory_streaming.py...
   📄 Validating protocol_circuit_breaker.py...
   📄 Validating protocol_communication_bridge.py...
   📄 Validating protocol_http_client.py...
   📄 Validating protocol_http_extended.py...
   📄 Validating protocol_kafka_client.py...
   📄 Validating protocol_kafka_extended.py...
   📄 Validating protocol_node_configuration.py...
   📄 Validating protocol_node_configuration_utils.py...
   📄 Validating protocol_node_registry.py...
   📄 Validating protocol_node_runner.py...
   📄 Validating protocol_onex_envelope.py...
   📄 Validating protocol_onex_node.py...
   📄 Validating protocol_onex_reply.py...
   📄 Validating protocol_onex_validation.py...
   📄 Validating protocol_onex_version_loader.py...
   📄 Validating protocol_contract_service.py...
   📄 Validating protocol_input_validator.py...
   📄 Validating protocol_model_registry_validator.py...
   📄 Validating protocol_naming_convention.py...
   📄 Validating protocol_naming_conventions.py...
   📄 Validating protocol_schema_loader.py...
   📄 Validating protocol_trusted_schema_loader.py...
   📄 Validating protocol_type_mapper.py...
   📄 Validating protocol_advanced_preprocessor.py...
   📄 Validating protocol_hybrid_retriever.py...
   📄 Validating protocol_database_connection.py...
   📄 Validating protocol_storage_backend.py...
   📄 Validating protocol_testable.py...
   📄 Validating protocol_testable_cli.py...
   📄 Validating protocol_container_types.py...
   📄 Validating protocol_core_types.py...
   📄 Validating protocol_discovery_types.py...
   📄 Validating protocol_event_bus_types.py...
   📄 Validating protocol_file_handling_types.py...
   📄 Validating protocol_mcp_types.py...
   📄 Validating protocol_storage_types.py...
   📄 Validating protocol_workflow_orchestration_types.py...
   📄 Validating protocol_compliance_validator.py...
   📄 Validating protocol_contract_compliance.py...
   📄 Validating protocol_import_validator.py...
   📄 Validating protocol_input_validation_tool.py...
   📄 Validating protocol_precommit_checker.py...
   📄 Validating protocol_quality_validator.py...
   📄 Validating protocol_validate.py...
   📄 Validating protocol_validation.py...
   📄 Validating protocol_validation_orchestrator.py...
   📄 Validating protocol_validation_provider.py...
   📄 Validating protocol_reducer.py...
   📄 Validating protocol_work_coordinator.py...
   📄 Validating protocol_work_queue.py...
   📄 Validating protocol_workflow_event_bus.py...
   📄 Validating protocol_workflow_event_coordinator.py...
   📄 Validating protocol_workflow_executor.py...
   📄 Validating protocol_workflow_manageable.py...
   📄 Validating protocol_workflow_node_registry.py...
   📄 Validating protocol_workflow_orchestrator.py...
   📄 Validating protocol_workflow_persistence.py...
   📄 Validating protocol_workflow_reducer.py...
   📄 Validating protocol_workflow_testing.py...

==========================================================================================
🔍 COMPREHENSIVE SPI PROTOCOL VALIDATION REPORT
==========================================================================================

📊 EXECUTIVE SUMMARY:
   Files analyzed: 157
   Protocols found: 589
   Total violations: 507
   ❌ Errors: 218
   ⚠️  Warnings: 289
   ℹ️  Info: 0
   🔧 Auto-fixes applied: 0
   ⏱️  Execution time: 0.16s

🚨 VIOLATIONS BY CATEGORY:

   📁 Async Patterns (107 violations)
      ❌ Error: 107 violations
         • protocol_contract_analyzer.py:77 - Method 'get_schema' contains I/O operations - should be async def
         • protocol_contract_analyzer.py:90 - Method 'load_contract' contains I/O operations - should be async def
         • protocol_contract_analyzer.py:104 - Method 'validate_contract' contains I/O operations - should be async def
         ... and 104 more

   📁 Decorators (20 violations)
      ❌ Error: 20 violations
         • protocol_coverage_provider.py:5 - Protocol 'ProtocolCoverageProvider' must be @runtime_checkable for isinstance() checks
         • protocol_direct_knowledge_pipeline.py:23 - Protocol 'ProtocolDirectKnowledgePipeline' must be @runtime_checkable for isinstance() checks
         • protocol_direct_knowledge_pipeline.py:274 - Protocol 'ProtocolVelocityTracker' must be @runtime_checkable for isinstance() checks
         ... and 17 more

   📁 Documentation (269 violations)
      ⚠️ Warning: 269 violations
         • protocol_adaptive_chunker.py:14 - Protocol 'ProtocolAdaptiveChunker' needs comprehensive docstring with examples
         • protocol_contract_analyzer.py:50 - Protocol 'ProtocolModelSchema' needs comprehensive docstring with examples
         • protocol_contract_analyzer.py:64 - Protocol 'ProtocolModelContractDocument' needs comprehensive docstring with examples
         ... and 266 more

   📁 Duplicates (23 violations)
      ❌ Error: 21 violations
         • protocol_type_mapper.py:12 - Protocol 'ProtocolModelSchema' conflicts with different protocol in src/omnibase_spi/protocols/advanced/protocol_contract_analyzer.py
         • protocol_file_processing.py:531 - Protocol 'ProtocolMetricsCollector' conflicts with different protocol in src/omnibase_spi/protocols/core/protocol_observability.py
         • protocol_file_type_handler.py:90 - Protocol 'ProtocolFileTypeHandler' conflicts with different protocol in src/omnibase_spi/protocols/discovery/protocol_handler_discovery.py
         ... and 18 more
      ⚠️ Warning: 2 violations
         • protocol_memory_requests.py:104 - Protocol 'ProtocolBatchMemoryRetrieveRequest' is very similar to 'ProtocolMemoryRetrieveRequest' (similarity: 100.0%)
         • protocol_workflow_orchestration_types.py:519 - Protocol 'ProtocolWorkflowInputState' is very similar to 'ProtocolOnexInputState' (similarity: 100.0%)

   📁 Namespace (60 violations)
      ❌ Error: 60 violations
         • protocol_ast_builder.py:8 - Import 'ast' violates namespace isolation - use omnibase_spi.protocols.* only
         • protocol_ast_builder.py:11 - Import from 'omnibase_core.decorators' violates namespace isolation
         • protocol_ast_builder.py:12 - Import from 'omnibase_core.models.core.model_schema' violates namespace isolation
         ... and 57 more

   📁 Protocol Structure (1 violations)
      ❌ Error: 1 violations
         • protocol_cli_dir_fixture_registry.py:46 - Protocol method 'cli_fixture_registry' should have '...' implementation, not concrete code

   📁 Purity (7 violations)
      ❌ Error: 7 violations
         • protocol_cli_dir_fixture_registry.py:49 - SPI files must not contain function calls - found call to 'MagicMock'
         • protocol_llm_provider.py:154 - SPI files must not contain function calls - found call to 'get_available_models'
         • protocol_llm_provider.py:155 - SPI files must not contain function calls - found call to 'health_check'
         ... and 4 more

   📁 Spi Purity (20 violations)
      ❌ Error: 2 violations
         • protocol_llm_provider.py:20 - SPI should not contain concrete class 'ProtocolLLMProvider' - use Protocol instead
         • protocol_ollama_client.py:25 - SPI should not contain concrete class 'ProtocolOllamaClient' - use Protocol instead
      ⚠️ Warning: 18 violations
         • protocol_llm_provider.py:31 - SPI should not contain standalone function 'provider_name'
         • protocol_llm_provider.py:36 - SPI should not contain standalone function 'provider_type'
         • protocol_llm_provider.py:41 - SPI should not contain standalone function 'is_available'
         ... and 15 more

📈 PROTOCOL STATISTICS:
   @runtime_checkable: 569/589 (96.6%)
   With __init__ methods: 0 (should be 0)
   With async methods: 349

   📁 Domain Distribution:
      unknown: 248 protocols (42.1%)
      types: 189 protocols (32.1%)
      container: 35 protocols (5.9%)
      workflow: 29 protocols (4.9%)
      mcp: 28 protocols (4.8%)
      files: 20 protocols (3.4%)
      events: 18 protocols (3.1%)
      core: 16 protocols (2.7%)
      discovery: 6 protocols (1.0%)

   🧮 Complexity Analysis:
      Average complexity: 14.5
      Maximum complexity: 104
      Most complex protocols:
         • ProtocolWorkflowManageable (score: 104)
         • ProtocolAgentPool (score: 103)
         • ProtocolWorkQueue (score: 101)

⚡ PERFORMANCE METRICS:
   Files Per Second: 989.72
   Protocols Per Second: 3713.04
   Average Protocols Per File: 3.75
   Violation Density: 3.23

💡 RECOMMENDATIONS:
   1. Fix 218 critical errors before merging code
   2. Add @runtime_checkable decorator to 20 protocols

==========================================================================================
❌ VALIDATION FAILED
   218 errors must be fixed before merging
   📊 Code quality score: 29.7%
📊 JSON report saved to: comprehensive_spi_validation_20251005_121257.json
